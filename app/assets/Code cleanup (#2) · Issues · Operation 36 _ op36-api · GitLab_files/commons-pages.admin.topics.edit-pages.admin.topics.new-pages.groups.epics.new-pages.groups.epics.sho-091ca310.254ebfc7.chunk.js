(this.webpackJsonp=this.webpackJsonp||[]).push([[11,901,947],{"/vEX":function(t,e,n){"use strict";var i=n("2UYt"),r=n("5dJh").charAt,o=n("V8Uk"),s=n("wPPk"),a=n("TCnH");i({target:"String",proto:!0,forced:!0},{at:function(t){var e=a(o(this)),n=e.length,i=s(t),l=i>=0?i:n+i;return l<0||l>=n?void 0:r(e,l)}})},"/zkW":function(t,e,n){var i=n("qGI4"),r=n("WuKq"),o=n("Iwy8"),s=n("N4/z"),a=n("9e36"),l=n("5uIe"),u=n("dlq9"),c=n("89Po"),h=n("mABg");t.exports=function(t,e,n){e=e.length?i(e,(function(t){return h(t)?function(e){return r(e,1===t.length?t[0]:t)}:t})):[c];var p=-1;e=i(e,l(o));var d=s(t,(function(t,n,r){return{criteria:i(e,(function(e){return e(t)})),index:++p,value:t}}));return a(d,(function(t,e){return u(t,e,n)}))}},"580c":function(t,e){var n={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};t.exports=function(t){return"\\"+n[t]}},"7wPF":function(t,e){t.exports=/<%-([\s\S]+?)%>/g},"8RB9":function(t,e,n){var i=n("CR7L"),r=n("G/Sk");t.exports=function(t,e,n,o){var s=!n;n||(n={});for(var a=-1,l=e.length;++a<l;){var u=e[a],c=o?o(n[u],t[u],u,n,t):void 0;void 0===c&&(c=t[u]),s?r(n,u,c):i(n,u,c)}return n}},"9e36":function(t,e){t.exports=function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}},A4KP:function(t,e,n){var i=n("s2Ra"),r=n("T5M9"),o=n("m2qY"),s=r((function(t,e){try{return i(t,void 0,e)}catch(t){return o(t)?t:new Error(t)}}));t.exports=s},Gapp:function(t,e,n){"use strict";n.d(e,"b",(function(){return C})),n.d(e,"a",(function(){return E})),n.d(e,"c",(function(){return F}));n("AfGZ"),n("XmK6");var i=n("6oy4"),r=n.n(i),o=n("79X9"),s=n("oj/M");const a="[{text}](url)",l=/^(?<indent>\s*)(?<leader>((?<isUl>[*+-])|(?<isOl>\d+\.))( \[([xX\s])\])?\s)(?<content>.)?/,u=/^((\s{0,3}-+\s*-+\s*-+\s*[\s-]*)|(\s{0,3}\*+\s*\*+\s*\*+\s*[\s*]*))$/;let c=!1;function h(t,e){return`${t}\n${e}\n${t}`}function p(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=t.substring(0,e.selectionStart);return n&&(i=i.trim()),(i=i.split("\n"))[i.length-1]}function d(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=t.substring(e.selectionEnd);return(i=(i=n?i.trim():i.replace(/^\n/,"")).split("\n"))[0]}function f(t){return{start:{row:(e=t.getSelection()).startLineNumber,column:e.startColumn},end:{row:e.endLineNumber,column:e.endColumn}};var e}function g(t){let e,n,i,r,{textArea:o,text:l,tag:u,cursorOffset:c,blockTag:g,selected:m="",wrap:v,select:y,editor:w}=t,b=!1,x=!1,C=!1;if(m=m.toString(),w){const t=f(w);e=t.start,n=t.end}if(u===a&&URL)try{new URL(m),u="[text]({text})",y="text"}catch(t){}0===m.indexOf("\n")&&(x=!0,m=m.replace(/\n+/,"")),o?o.selectionEnd-o.selectionStart>m.replace(/\n$/,"").length&&(b=!0,m=m.replace(/\n$/,"")):w&&e.row!==n.row&&(b=!0,m=m.replace(/\n$/,""));const E=m.split("\n");w&&!v?(i=w.getValue().split("\n")[e.row],/^\s*$/.test(i)&&(C=!0)):o&&!v&&(i=o.value.substr(0,o.selectionStart).lastIndexOf("\n"),/^\s*$/.test(o.value.substring(i,o.selectionStart))&&(C=!0));const F=o&&0===o.selectionStart||w&&0===e.column&&0===e.row,k=v||C||F?"":"\n";return r=E.length>1&&(!v||null!=g&&""!==g)?null!=g&&""!==g?w?function(t,e,n,i){const r=t.split("\n"),o=f(i);if(r[o.start.row-1]===e&&r[o.end.row+1]===e){if(null!==e){const t=r[o.end.row+1],e=new Range(r[o.start.row-1],0,o.end.row+1,t.length);i.getSelection().setSelectionRange(e)}return n}return h(e,n)}(l,g,m,w):function(t,e,n,i){return p(t,e)===n&&d(t,e)===n?(null!=n&&(e.selectionStart=e.selectionStart-(n.length+1),e.selectionEnd=e.selectionEnd+(n.length+1)),i):h(n,i)}(l,o,g,m):E.map((function(t){return u.indexOf("{text}")>-1?u.replace("{text}",t):0===t.indexOf(u)?String(t.replace(u,"")):String(u)+t})).join("\n"):u.indexOf("{text}")>-1?u.replace("{text}",(function(){return m.replace(/\\n/g,"\n").replace(/%br/g,"\\n")})):String(k)+u+m+(v?u:""),x&&(r=`\n${r}`),b&&(r+="\n"),w?w.replaceSelectedText(r,y):Object(s.u)(o,r),function(t){let e,{textArea:n,tag:i,cursorOffset:r,positionBetweenTags:o,removedLastNewLine:s,select:a,editor:l,editorSelectionStart:u,editorSelectionEnd:c}=t;if(!n||n.setSelectionRange){if(a&&a.length>0){if(n){const t=n.selectionStart-(i.length-i.indexOf(a)),e=t+a.length;return n.setSelectionRange(t,e)}if(l)return void l.selectWithinSelection(a,i)}if(n){if(n.selectionStart===n.selectionEnd)return e=o?n.selectionStart-i.length:n.selectionStart,s&&(e-=1),r&&(e-=r),n.setSelectionRange(e,e)}else l&&u.row===c.row&&o&&l.moveCursor(-1*i.length)}}({textArea:o,tag:u.replace("{text}",m),cursorOffset:c,positionBetweenTags:v&&0===m.length,removedLastNewLine:b,select:y,editor:w,editorSelectionStart:e,editorSelectionEnd:n})}function m(t){let{textArea:e,tag:n,cursorOffset:i,blockTag:o,wrap:s,select:a,tagContent:l}=t;const u=r()(e);e=u.get(0);const c=u.val(),h=function(t,e){return t.substring(e.selectionStart,e.selectionEnd)}(c,e)||l;return u.focus(),g({textArea:e,text:c,tag:n,cursorOffset:i,blockTag:o,selected:h,wrap:s,select:a})}function v(t,e){if("Enter"!==t.key)return;if(t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)return;if(e.selectionStart!==e.selectionEnd)return;if(c)return;const n=p(e.value,e,!1),i=n.match(l);if(i){const{leader:r,indent:o,content:s,isOl:a}=i.groups;if(!s)return void(e.selectionStart=e.selectionStart-i[0].length);let c;if(a){c=function(t,e){var n;const{indent:i,leader:r}=t.groups,{indent:o,isOl:s}=null!==(n=null==e?void 0:e.groups)&&void 0!==n?n:{},[a,l=""]=r.split("."),u=s&&o===i?0:1;return`${i}${parseInt(a,10)+u}.${l}`}(i,d(e.value,e,!1).match(l))}else{if(n.match(u))return;c=`${o}${r}`}c=c.replace(/\[x\]/i,"[ ]"),t.preventDefault(),m({tag:c,textArea:e,blockTag:"",wrap:!1,select:"",tagContent:""})}}function y(t){var e,n;null!==(e=(n=r()(this)).atwho)&&void 0!==e&&e.call(n,"isSelecting")||(v(t,this),function(t,e){if(!gon.markdown_surround_selection)return;if(e.selectionStart===e.selectionEnd)return;const n={"*":"**{text}**",_:"_{text}_","`":"`{text}`","'":"'{text}'",'"':'"{text}"',"[":"[{text}]","{":"{{text}}","(":"({text})","<":"<{text}>"}[t.key];n&&(t.preventDefault(),m({tag:n,textArea:e,blockTag:"",wrap:!0,select:"",tagContent:""}))}(t,this))}function w(){c=!0}function b(){c=!1}function x(t){return m({textArea:t.closest(".md-area").find("textarea"),tag:t.data("mdTag"),cursorOffset:t.data("mdCursorOffset"),blockTag:t.data("mdBlock"),wrap:!t.data("mdPrepend"),select:t.data("mdSelect"),tagContent:t.attr("data-md-tag-content")})}function C(t){return r()(".markdown-area",t).on("keydown",y).on("compositionstart",w).on("compositionend",b).each((function(){o.default.initMarkdownEditorShortcuts(r()(this),x)})),r()(".js-md",t).off("click").on("click",(function(){return x(r()(this))}))}function E(t){r()(".js-md").off("click").on("click",(function(e){const{mdTag:n,mdBlock:i,mdPrepend:o,mdSelect:s}=r()(e.currentTarget).data();g({tag:n,blockTag:i,wrap:!o,select:s,selected:t.getSelectedText(),text:t.getValue(),editor:t}),t.focus()}))}function F(t){return r()(".markdown-area",t).off("keydown",y).off("compositionstart",w).off("compositionend",b).each((function(){o.default.removeMarkdownEditorShortcuts(r()(this))})),r()(".js-md",t).off("click")}},Hoxe:function(t,e,n){var i=n("MfoV"),r=/[\\^$.*+?()[\]{}|]/g,o=RegExp(r.source);t.exports=function(t){return(t=i(t))&&o.test(t)?t.replace(r,"\\$&"):t}},"N4/z":function(t,e,n){var i=n("wJCR"),r=n("miPr");t.exports=function(t,e){var n=-1,o=r(t)?Array(t.length):[];return i(t,(function(t,i,r){o[++n]=e(t,i,r)})),o}},NApX:function(t,e,n){var i,r;i=[n("6oy4")],void 0===(r=function(t){return function(t){var e,n,i;n={ESC:27,TAB:9,ENTER:13,CTRL:17,A:65,P:80,N:78,LEFT:37,UP:38,RIGHT:39,DOWN:40,BACKSPACE:8,SPACE:32},e={beforeSave:function(t){return r.arrayToDefaultHash(t)},matcher:function(t,e,n,i){var r,o,s;return t=t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),n&&(t="(?:^|\\s)"+t),r=decodeURI("%C3%80"),o=decodeURI("%C3%BF"),(s=new RegExp(t+"([A-Za-z"+r+"-"+o+"0-9_"+(i?" ":"")+"'.+-]*)$|"+t+"([^\\x00-\\xff]*)$","gi").exec(e))?s[2]||s[1]:null},filter:function(t,e,n){var i,r,o,s;for(i=[],r=0,s=e.length;r<s;r++)o=e[r],~new String(o[n]).toLowerCase().indexOf(t.toLowerCase())&&i.push(o);return i},remoteFilter:null,sorter:function(t,e,n){var i,r,o,s;if(!t)return e;for(i=[],r=0,s=e.length;r<s;r++)(o=e[r]).atwho_order=new String(o[n]).toLowerCase().indexOf(t.toLowerCase()),o.atwho_order>-1&&i.push(o);return i.sort((function(t,e){return t.atwho_order-e.atwho_order}))},tplEval:function(t,e){var n;n=t;try{return"string"!=typeof t&&(n=t(e)),n.replace(/\$\{([^\}]*)\}/g,(function(t,n,i){return e[n]}))}catch(t){return""}},highlighter:function(t,e){var n;return e?(n=new RegExp(">\\s*([^<]*?)("+e.replace("+","\\+")+")([^<]*)\\s*<","ig"),t.replace(n,(function(t,e,n,i){return"> "+e+"<strong>"+n+"</strong>"+i+" <"}))):t},beforeInsert:function(t,e,n){return t},beforeReposition:function(t){return t},afterMatchFailed:function(t,e){}},i=function(){function e(e){this.currentFlag=null,this.controllers={},this.aliasMaps={},this.$inputor=t(e),this.setupRootElement(),this.listen()}return e.prototype.createContainer=function(e){var n;return null!=(n=this.$el)&&n.remove(),t(e.body).append(this.$el=t("<div class='atwho-container'></div>"))},e.prototype.setupRootElement=function(e,n){var i;if(null==n&&(n=!1),e)this.window=e.contentWindow,this.document=e.contentDocument||this.window.document,this.iframe=e;else{this.document=this.$inputor[0].ownerDocument,this.window=this.document.defaultView||this.document.parentWindow;try{this.iframe=this.window.frameElement}catch(e){if(i=e,this.iframe=null,t.fn.atwho.debug)throw new Error("iframe auto-discovery is failed.\nPlease use `setIframe` to set the target iframe manually.\n"+i)}}return this.createContainer((this.iframeAsRoot=n)?this.document:document)},e.prototype.controller=function(t){var e,n,i,r;if(this.aliasMaps[t])n=this.controllers[this.aliasMaps[t]];else for(i in r=this.controllers)if(e=r[i],i===t){n=e;break}return n||this.controllers[this.currentFlag]},e.prototype.setContextFor=function(t){return this.currentFlag=t,this},e.prototype.reg=function(t,e){var n,i;return i=(n=this.controllers)[t]||(n[t]=this.$inputor.is("[contentEditable]")?new a(this,t):new s(this,t)),e.alias&&(this.aliasMaps[e.alias]=t),i.init(e),this},e.prototype.listen=function(){return this.$inputor.on("compositionstart",(t=this,function(e){var n;return null!=(n=t.controller())&&n.view.hide(),t.isComposing=!0,null})).on("compositionend",function(t){return function(e){return t.isComposing=!1,setTimeout((function(e){return t.dispatch(e)})),null}}(this)).on("keyup.atwhoInner",function(t){return function(e){return t.onKeyup(e)}}(this)).on("keydown.atwhoInner",function(t){return function(e){return t.onKeydown(e)}}(this)).on("blur.atwhoInner",function(t){return function(e){var n;if(n=t.controller())return n.expectedQueryCBId=null,n.view.hide(e,n.getOpt("displayTimeout"))}}(this)).on("click.atwhoInner",function(t){return function(e){return t.dispatch(e)}}(this)).on("scroll.atwhoInner",function(t){return function(){var e;return e=t.$inputor.scrollTop(),function(n){var i,r;return i=n.target.scrollTop,e!==i&&null!=(r=t.controller())&&r.view.hide(n),e=i,!0}}}(this)());var t},e.prototype.shutdown=function(){var t,e;for(t in e=this.controllers)e[t].destroy(),delete this.controllers[t];return this.$inputor.off(".atwhoInner"),this.$el.remove()},e.prototype.dispatch=function(t){var e,n,i,r;if(void 0!==t){for(e in r=[],i=this.controllers)n=i[e],r.push(n.lookUp(t));return r}},e.prototype.onKeyup=function(e){var i;switch(e.keyCode){case n.ESC:e.preventDefault(),null!=(i=this.controller())&&i.view.hide();break;case n.DOWN:case n.UP:case n.CTRL:case n.ENTER:t.noop();break;case n.P:case n.N:e.ctrlKey||this.dispatch(e);break;default:this.dispatch(e)}},e.prototype.onKeydown=function(e){var i,r;if((r=null!=(i=this.controller())?i.view:void 0)&&r.visible())switch(e.keyCode){case n.ESC:e.preventDefault(),r.hide(e);break;case n.UP:e.preventDefault(),r.prev();break;case n.DOWN:e.preventDefault(),r.next();break;case n.P:if(!e.ctrlKey)return;e.preventDefault(),r.prev();break;case n.N:if(!e.ctrlKey)return;e.preventDefault(),r.next();break;case n.TAB:case n.ENTER:case n.SPACE:if(!r.visible())return;if(!this.controller().getOpt("spaceSelectsMatch")&&e.keyCode===n.SPACE)return;if(!this.controller().getOpt("tabSelectsMatch")&&e.keyCode===n.TAB)return;r.highlighted()?(e.preventDefault(),r.choose(e)):r.hide(e);break;default:t.noop()}},e}();var r,o=[].slice;r=function(){function n(e,n){this.app=e,this.at=n,this.$inputor=this.app.$inputor,this.id=this.$inputor[0].id||this.uid(),this.expectedQueryCBId=null,this.setting=null,this.query=null,this.pos=0,this.range=null,0===(this.$el=t("#atwho-ground-"+this.id,this.app.$el)).length&&this.app.$el.append(this.$el=t("<div id='atwho-ground-"+this.id+"'></div>")),this.model=new l(this),this.view=new u(this)}return n.prototype.uid=function(){return(Math.random().toString(16)+"000000000").substr(2,8)+(new Date).getTime()},n.prototype.init=function(e){return this.setting=t.extend({},this.setting||t.fn.atwho.default,e),this.view.init(),this.model.reload(this.setting.data)},n.prototype.destroy=function(){return this.trigger("beforeDestroy"),this.model.destroy(),this.view.destroy(),this.$el.remove()},n.prototype.callDefault=function(){var n,i,r;r=arguments[0],n=2<=arguments.length?o.call(arguments,1):[];try{return e[r].apply(this,n)}catch(e){return i=e,t.error(i+" Or maybe At.js doesn't have function "+r)}},n.prototype.trigger=function(t,e){var n,i;return null==e&&(e=[]),e.push(this),i=(n=this.getOpt("alias"))?t+"-"+n+".atwho":t+".atwho",this.$inputor.trigger(i,e)},n.prototype.callbacks=function(t){return this.getOpt("callbacks")[t]||e[t]},n.prototype.getOpt=function(t,e){try{return this.setting[t]}catch(t){return null}},n.prototype.insertContentFor=function(e){var n,i;return i=this.getOpt("insertTpl"),n=t.extend({},e.data("item-data"),{"atwho-at":this.at}),this.callbacks("tplEval").call(this,i,n,"onInsert")},n.prototype.renderView=function(t){var e;return e=this.getOpt("searchKey"),t=this.callbacks("sorter").call(this,this.query.text,t,e),this.view.render(t.slice(0,this.getOpt("limit")))},n.arrayToDefaultHash=function(e){var n,i,r,o;if(!t.isArray(e))return e;for(o=[],n=0,r=e.length;n<r;n++)i=e[n],t.isPlainObject(i)?o.push(i):o.push({name:i});return o},n.prototype.lookUp=function(t){var e,n;if((!t||"click"!==t.type||this.getOpt("lookUpOnClick"))&&(!this.getOpt("suspendOnComposing")||!this.app.isComposing))return(e=this.catchQuery(t))?(this.app.setContextFor(this.at),(n=this.getOpt("delay"))?this._delayLookUp(e,n):this._lookUp(e),e):(this.expectedQueryCBId=null,e)},n.prototype._delayLookUp=function(t,e){var n,i,r;return n=Date.now?Date.now():(new Date).getTime(),this.previousCallTime||(this.previousCallTime=n),0<(i=e-(n-this.previousCallTime))&&i<e?(this.previousCallTime=n,this._stopDelayedCall(),this.delayedCallTimeout=setTimeout((r=this,function(){return r.previousCallTime=0,r.delayedCallTimeout=null,r._lookUp(t)}),e)):(this._stopDelayedCall(),this.previousCallTime!==n&&(this.previousCallTime=0),this._lookUp(t))},n.prototype._stopDelayedCall=function(){if(this.delayedCallTimeout)return clearTimeout(this.delayedCallTimeout),this.delayedCallTimeout=null},n.prototype._generateQueryCBId=function(){return{}},n.prototype._lookUp=function(e){var n;return n=function(t,e){if(t===this.expectedQueryCBId)return e&&e.length>0?this.renderView(this.constructor.arrayToDefaultHash(e)):this.view.hide()},this.expectedQueryCBId=this._generateQueryCBId(),this.model.query(e.text,t.proxy(n,this,this.expectedQueryCBId))},n}();var s,a,l,u,c,h=function(t,e){for(var n in e)p.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},p={}.hasOwnProperty;s=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return h(n,e),n.prototype.catchQuery=function(){var t,e,n,i,r,o,s;if(e=this.$inputor.val(),t=this.$inputor.caret("pos",{iframe:this.app.iframe}),s=e.slice(0,t),!((i="string"==typeof(r=this.callbacks("matcher").call(this,this.at,s,this.getOpt("startWithSpace"),this.getOpt("acceptSpaceBar"))))&&r.length<this.getOpt("minLen",0)))return i&&r.length<=this.getOpt("maxLen",20)?(n=(o=t-r.length)+r.length,this.pos=o,r={text:r,headPos:o,endPos:n},this.trigger("matched",[this.at,r.text])):(r=null,this.view.hide()),this.query=r},n.prototype.rect=function(){var e,n,i;if(e=this.$inputor.caret("offset",this.pos-1,{iframe:this.app.iframe}))return this.app.iframe&&!this.app.iframeAsRoot&&(n=t(this.app.iframe).offset(),e.left+=n.left,e.top+=n.top),i=this.app.document.selection?0:2,{left:e.left,top:e.top,bottom:e.top+e.height+i}},n.prototype.insert=function(t,e){var n,i,r,o,s;return s=""+(r=(i=(n=this.$inputor).val()).slice(0,Math.max(this.query.headPos-this.at.length,0)))+(t+=o=""===(o=this.getOpt("suffix"))?o:o||" ")+i.slice(this.query.endPos||0),n.val(s),n.caret("pos",r.length+t.length,{iframe:this.app.iframe}),n.is(":focus")||n.focus(),n.change()},n}(r),h=function(t,e){for(var n in e)p.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},p={}.hasOwnProperty,a=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return h(i,e),i.prototype._getRange=function(){var t;if((t=this.app.window.getSelection()).rangeCount>0)return t.getRangeAt(0)},i.prototype._setRange=function(e,n,i){if(null==i&&(i=this._getRange()),i&&n)return n=t(n)[0],"after"===e?(i.setEndAfter(n),i.setStartAfter(n)):(i.setEndBefore(n),i.setStartBefore(n)),i.collapse(!1),this._clearRange(i)},i.prototype._clearRange=function(t){var e;if(null==t&&(t=this._getRange()),e=this.app.window.getSelection(),null==this.ctrl_a_pressed)return e.removeAllRanges(),e.addRange(t)},i.prototype._movingEvent=function(t){var e;return"click"===t.type||(e=t.which)===n.RIGHT||e===n.LEFT||e===n.UP||e===n.DOWN},i.prototype._unwrap=function(e){var n;return(n=(e=t(e).unwrap().get(0)).nextSibling)&&n.nodeValue&&(e.nodeValue+=n.nodeValue,t(n).remove()),e},i.prototype.catchQuery=function(e){var i,r,o,s,a,l,u,c,h,p,d,f;if((f=this._getRange())&&f.collapsed){if(e.which===n.ENTER)return(r=t(f.startContainer).closest(".atwho-query")).contents().unwrap(),r.is(":empty")&&r.remove(),(r=t(".atwho-query",this.app.document)).text(r.text()).contents().last().unwrap(),void this._clearRange();if(/firefox/i.test(navigator.userAgent)){if(t(f.startContainer).is(this.$inputor))return void this._clearRange();e.which===n.BACKSPACE&&f.startContainer.nodeType===document.ELEMENT_NODE&&(h=f.startOffset-1)>=0?((o=f.cloneRange()).setStart(f.startContainer,h),t(o.cloneContents()).contents().last().is(".atwho-inserted")&&(a=t(f.startContainer).contents().get(h),this._setRange("after",t(a).contents().last()))):e.which===n.LEFT&&f.startContainer.nodeType===document.TEXT_NODE&&(i=t(f.startContainer.previousSibling)).is(".atwho-inserted")&&0===f.startOffset&&this._setRange("after",i.contents().last())}if(t(f.startContainer).closest(".atwho-inserted").addClass("atwho-query").siblings().removeClass("atwho-query"),(r=t(".atwho-query",this.app.document)).length>0&&r.is(":empty")&&0===r.text().length&&r.remove(),this._movingEvent(e)||r.removeClass("atwho-inserted"),r.length>0)switch(e.which){case n.LEFT:return this._setRange("before",r.get(0),f),void r.removeClass("atwho-query");case n.RIGHT:return this._setRange("after",r.get(0).nextSibling,f),void r.removeClass("atwho-query")}if(r.length>0&&(d=r.attr("data-atwho-at-query"))&&(r.empty().html(d).attr("data-atwho-at-query",null),this._setRange("after",r.get(0),f)),(o=f.cloneRange()).setStart(f.startContainer,0),l="string"==typeof(c=this.callbacks("matcher").call(this,this.at,o.toString(),this.getOpt("startWithSpace"),this.getOpt("acceptSpaceBar"))),0===r.length&&l&&(s=f.startOffset-this.at.length-c.length)>=0&&(f.setStart(f.startContainer,s),r=t("<span/>",this.app.document).attr(this.getOpt("editableAtwhoQueryAttrs")).addClass("atwho-query"),f.surroundContents(r.get(0)),(u=r.contents().last().get(0))&&(/firefox/i.test(navigator.userAgent)?(f.setStart(u,u.length),f.setEnd(u,u.length),this._clearRange(f)):this._setRange("after",u,f))),!(l&&c.length<this.getOpt("minLen",0)))return l&&c.length<=this.getOpt("maxLen",20)?(p={text:c,el:r},this.trigger("matched",[this.at,p.text]),this.query=p):(this.view.hide(),this.query={el:r},r.text().indexOf(this.at)>=0&&(this._movingEvent(e)&&r.hasClass("atwho-inserted")?r.removeClass("atwho-query"):!1!==this.callbacks("afterMatchFailed").call(this,this.at,r)&&this._setRange("after",this._unwrap(r.text(r.text()).contents().first()))),null)}},i.prototype.rect=function(){var e,n;if((n=this.query.el.offset())&&this.query.el[0].getClientRects().length)return this.app.iframe&&!this.app.iframeAsRoot&&(e=t(this.app.iframe).offset(),n.left+=e.left-this.$inputor.scrollLeft(),n.top+=e.top-this.$inputor.scrollTop()),n.bottom=n.top+this.query.el.height(),n},i.prototype.insert=function(t,e){var n,i,r,o,s;return this.$inputor.is(":focus")||this.$inputor.focus(),(i=this.getOpt("functionOverrides")).insert?i.insert.call(this,t,e):(o=""===(o=this.getOpt("suffix"))?o:o||" ",n=e.data("item-data"),this.query.el.removeClass("atwho-query").addClass("atwho-inserted").html(t).attr("data-atwho-at-query",""+n["atwho-at"]+this.query.text).attr("contenteditable","false"),(r=this._getRange())&&(this.query.el.length&&r.setEndAfter(this.query.el[0]),r.collapse(!1),r.insertNode(s=this.app.document.createTextNode(""+o)),this._setRange("after",s,r)),this.$inputor.is(":focus")||this.$inputor.focus(),this.$inputor.change())},i}(r),l=function(){function t(t){this.context=t,this.at=this.context.at,this.storage=this.context.$inputor}return t.prototype.destroy=function(){return this.storage.data(this.at,null)},t.prototype.saved=function(){return this.fetch()>0},t.prototype.query=function(t,e){var n,i,r;return i=this.fetch(),r=this.context.getOpt("searchKey"),i=this.context.callbacks("filter").call(this.context,t,i,r)||[],n=this.context.callbacks("remoteFilter"),i.length>0||!n&&0===i.length?e(i):n.call(this.context,t,e)},t.prototype.fetch=function(){return this.storage.data(this.at)||[]},t.prototype.save=function(t){return this.storage.data(this.at,this.context.callbacks("beforeSave").call(this.context,t||[]))},t.prototype.load=function(t){if(!this.saved()&&t)return this._load(t)},t.prototype.reload=function(t){return this._load(t)},t.prototype._load=function(t){if("string"==typeof t)throw new Error("@gitlab/at.js removed support for $.ajax");return this.save(t)},t}(),u=function(){function e(e){this.context=e,this.$el=t("<div class='atwho-view'><ul class='atwho-view-ul'></ul></div>"),this.$elUl=this.$el.children(),this.timeoutID=null,this.context.$el.append(this.$el),this.bindEvent()}return e.prototype.init=function(){var t,e;return e=this.context.getOpt("alias")||this.context.at.charCodeAt(0),(t=this.context.getOpt("headerTpl"))&&1===this.$el.children().length&&this.$el.prepend(t),this.$el.attr({id:"at-view-"+e})},e.prototype.destroy=function(){return this.$el.remove()},e.prototype.bindEvent=function(){var e,n,i,r;return e=this.$el.find("ul"),n=0,i=0,e.on("mousemove.atwho-view","li",(function(r){var o;if((n!==r.clientX||i!==r.clientY)&&(n=r.clientX,i=r.clientY,!(o=t(r.currentTarget)).hasClass("cur")))return e.find(".cur").removeClass("cur"),o.addClass("cur")})).on("click.atwho-view","li",(r=this,function(n){return e.find(".cur").removeClass("cur"),t(n.currentTarget).addClass("cur"),r.choose(n),n.preventDefault()}))},e.prototype.visible=function(){return t.expr.filters.visible(this.$el[0])},e.prototype.highlighted=function(){return this.$el.find(".cur").length>0},e.prototype.choose=function(t){var e,n;if((e=this.$el.find(".cur")).length&&(n=this.context.insertContentFor(e),this.context._stopDelayedCall(),this.context.insert(this.context.callbacks("beforeInsert").call(this.context,n,e,t),e),this.context.trigger("inserted",[e,t]),this.hide(t)),this.context.getOpt("hideWithoutSuffix"))return this.stopShowing=!0},e.prototype.reposition=function(e){var n,i,r,o;return n=this.context.app.iframeAsRoot?this.context.app.window:window,e.bottom+this.$el.height()-t(n).scrollTop()>t(n).height()&&(e.bottom=e.top-this.$el.height()),e.left>(r=t(n).width()-this.$el.width()-5)&&(e.left=r),i={left:e.left,top:e.bottom},null!=(o=this.context.callbacks("beforeReposition"))&&o.call(this.context,i),this.$el.offset(i),this.context.trigger("reposition",[i])},e.prototype.next=function(){var t,e,n;return(t=this.$el.find(".cur").removeClass("cur").next()).length||(t=this.$el.find("li:first")),t.addClass("cur"),n=(e=t[0]).offsetTop+e.offsetHeight+(e.nextSibling?e.nextSibling.offsetHeight:0),this.scrollTop(Math.max(0,n-this.$el.height()))},e.prototype.prev=function(){var t,e,n;return(e=this.$el.find(".cur").removeClass("cur").prev()).length||(e=this.$el.find("li:last")),e.addClass("cur"),t=(n=e[0]).offsetTop+n.offsetHeight+(n.nextSibling?n.nextSibling.offsetHeight:0),this.scrollTop(Math.max(0,t-this.$el.height()))},e.prototype.scrollTop=function(t){return this.$elUl.scrollTop(t)},e.prototype.show=function(){var t;if(!this.stopShowing)return this.visible()||(this.$el.show(),this.$el.scrollTop(0),this.context.trigger("shown")),(t=this.context.rect())?this.reposition(t):void 0;this.stopShowing=!1},e.prototype.hide=function(t,e){var n,i;if(this.visible())return isNaN(e)?(this.$el.hide(),this.context.trigger("hidden",[t])):(i=this,n=function(){return i.hide()},clearTimeout(this.timeoutID),this.timeoutID=setTimeout(n,e))},e.prototype.render=function(e){var n,i,r,o,s,a,l;if(t.isArray(e)&&e.length>0){for(this.$el.find("ul").empty(),i=this.$el.find("ul"),l=this.context.getOpt("displayTpl"),r=0,s=e.length;r<s;r++)o=e[r],o=t.extend({},o,{"atwho-at":this.context.at}),a=this.context.callbacks("tplEval").call(this.context,l,o,"onDisplay"),(n=t(this.context.callbacks("highlighter").call(this.context,a,this.context.query.text))).data("item-data",o),i.append(n);return this.show(),this.context.getOpt("highlightFirst")?i.find("li:first").addClass("cur"):void 0}this.hide()},e}(),c={load:function(t,e){var n;if(n=this.controller(t))return n.model.load(e)},isSelecting:function(){var t;return!!(null!=(t=this.controller())?t.view.visible():void 0)},hide:function(){var t;return null!=(t=this.controller())?t.view.hide():void 0},reposition:function(){var t;if(t=this.controller())return t.view.reposition(t.rect())},setIframe:function(t,e){return this.setupRootElement(t,e),null},run:function(){return this.dispatch()},destroy:function(){return this.shutdown(),this.$inputor.data("atwho",null)}},t.fn.atwho=function(e){var n,r;return n=arguments,r=null,this.filter('textarea, input, [contenteditable=""], [contenteditable=true]').each((function(){var o,s;return(s=(o=t(this)).data("atwho"))||o.data("atwho",s=new i(this)),"object"!=typeof e&&e?c[e]&&s?r=c[e].apply(s,Array.prototype.slice.call(n,1)):t.error("Method "+e+" does not exist on jQuery.atwho"):s.reg(e.at,e)})),null!=r?r:this},t.fn.atwho.default={at:void 0,alias:void 0,data:null,displayTpl:"<li>${name}</li>",insertTpl:"${atwho-at}${name}",headerTpl:null,callbacks:e,functionOverrides:{},searchKey:"name",suffix:void 0,hideWithoutSuffix:!1,startWithSpace:!0,acceptSpaceBar:!1,highlightFirst:!0,limit:5,maxLen:20,minLen:0,displayTimeout:300,delay:null,spaceSelectsMatch:!1,tabSelectsMatch:!0,editableAtwhoQueryAttrs:{},scrollDuration:150,suspendOnComposing:!0,lookUpOnClick:!0},t.fn.atwho.debug=!1}(t)}.apply(e,i))||(t.exports=r)},TOl7:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return r}));n("AfGZ");e.a=function(t,e){const n=document.querySelector(t),i=document.querySelector(e);if(!n||!i)return;const r=n.closest("form");n.addEventListener("click",(function(){i.click()})),i.addEventListener("change",(function(){r.querySelector(".js-filename").textContent=i.value.replace(/^.*[\\\/]/,"")}))};const i=function(t){let e;return t&&(e=t.name),e},r=function(t){const e=t.name?t.name:"image.png";return/^[\w.\-+]+\.(png|jpg|jpeg|gif|bmp|tiff|ico|webp)$/.test(e)?e:"image.png"}},VVgp:function(t,e,n){var i=n("A1CF"),r={escape:n("7wPF"),evaluate:n("ejHb"),interpolate:n("h1XE"),variable:"",imports:{_:{escape:i}}};t.exports=r},"YOf/":function(t,e,n){var i=n("79w4"),r=Object.prototype,o=r.hasOwnProperty;t.exports=function(t,e,n,s){return void 0===t||i(t,r[n])&&!o.call(s,n)?e:t}},ZMwX:function(t,e,n){var i=n("qHIR"),r=n("/zkW"),o=n("T5M9"),s=n("kTp2"),a=o((function(t,e){if(null==t)return[];var n=e.length;return n>1&&s(t,e[0],e[1])?e=[]:n>2&&s(e[0],e[1],e[2])&&(e=[e[0]]),r(t,i(e,1),[])}));t.exports=a},ZTWp:function(t,e,n){var i=n("T5M9"),r=n("kTp2");t.exports=function(t){return i((function(e,n){var i=-1,o=n.length,s=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(s=t.length>3&&"function"==typeof s?(o--,s):void 0,a&&r(n[0],n[1],a)&&(s=o<3?void 0:s,o=1),e=Object(e);++i<o;){var l=n[i];l&&t(e,l,i,s)}return e}))}},dlq9:function(t,e,n){var i=n("vniq");t.exports=function(t,e,n){for(var r=-1,o=t.criteria,s=e.criteria,a=o.length,l=n.length;++r<a;){var u=i(o[r],s[r]);if(u)return r>=l?u:u*("desc"==n[r]?-1:1)}return t.index-e.index}},ejHb:function(t,e){t.exports=/<%([\s\S]+?)%>/g},h1XE:function(t,e){t.exports=/<%=([\s\S]+?)%>/g},hnH5:function(t,e,n){var i=n("8RB9"),r=n("ZTWp"),o=n("LrAm"),s=r((function(t,e,n,r){i(e,o(e),t,r)}));t.exports=s},lb6a:function(t,e,n){var i=n("hnH5"),r=n("A4KP"),o=n("0fyf"),s=n("YOf/"),a=n("580c"),l=n("m2qY"),u=n("kTp2"),c=n("x/yk"),h=n("h1XE"),p=n("VVgp"),d=n("MfoV"),f="Invalid `variable` option passed into `_.template`",g=/\b__p \+= '';/g,m=/\b(__p \+=) '' \+/g,v=/(__e\(.*?\)|\b__t\)) \+\n'';/g,y=/[()=,{}\[\]\/\s]/,w=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,b=/($^)/,x=/['\n\r\u2028\u2029\\]/g,C=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var E=p.imports._.templateSettings||p;n&&u(t,e,n)&&(e=void 0),t=d(t),e=i({},e,E,s);var F,k,T=i({},e.imports,E.imports,s),S=c(T),_=o(T,S),A=0,O=e.interpolate||b,R="__p += '",L=RegExp((e.escape||b).source+"|"+O.source+"|"+(O===h?w:b).source+"|"+(e.evaluate||b).source+"|$","g"),z=C.call(e,"sourceURL")?"//# sourceURL="+(e.sourceURL+"").replace(/\s/g," ")+"\n":"";t.replace(L,(function(e,n,i,r,o,s){return i||(i=r),R+=t.slice(A,s).replace(x,a),n&&(F=!0,R+="' +\n__e("+n+") +\n'"),o&&(k=!0,R+="';\n"+o+";\n__p += '"),i&&(R+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),A=s+e.length,e})),R+="';\n";var $=C.call(e,"variable")&&e.variable;if($){if(y.test($))throw new Error(f)}else R="with (obj) {\n"+R+"\n}\n";R=(k?R.replace(g,""):R).replace(m,"$1").replace(v,"$1;"),R="function("+($||"obj")+") {\n"+($?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(F?", __e = _.escape":"")+(k?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+R+"return __p\n}";var D=r((function(){return Function(S,z+"return "+R).apply(void 0,_)}));if(D.source=R,l(D))throw D;return D}},m2qY:function(t,e,n){var i=n("DVqJ"),r=n("cgqb"),o=n("Zqnx"),s="[object DOMException]",a="[object Error]";t.exports=function(t){if(!r(t))return!1;var e=i(t);return e==a||e==s||"string"==typeof t.message&&"string"==typeof t.name&&!o(t)}},uY7R:function(t,e,n){"use strict";n.d(e,"a",(function(){return C}));var i=n("XtuB"),r=n("6oy4"),o=n.n(r),s=n("YI2X"),a=n("oj/M"),l=(n("AfGZ"),n("A1CF")),u=n.n(l),c=n("vP7+"),h=n.n(c),p=(n("QQrm"),n("TOl7")),d=n("vRHk"),f=n("t9l/");const g=function(t,e){return Math.max(...t.map((function(t){return t[e].length})))};class m{constructor(t){this.data=t,this.columnWidths=[],this.rows=[],this.tableFound=this.parseTable()}isTable(){return this.tableFound}convertToTableMarkdown(){var t=this;this.calculateColumnWidths();const e=this.rows.map((function(e){return`| ${e.map((function(e,n){return t.formatColumn(e,n)})).join(" | ")} |`}));return e.splice(1,0,this.generateHeaderBreak()),e.join("\n")}parseTable(){if(!this.data.types.includes("text/html")||!this.data.types.includes("text/plain"))return!1;const t=this.data.getData("text/html");if(this.doc=(new DOMParser).parseFromString(t,"text/html"),1!==this.doc.querySelectorAll("table:not(.diff-wrap-lines)").length)return!1;const e=this.data.getData("text/plain").trim().split(/[\n\u0085\u2028\u2029]|\r\n?/g);return this.doc.querySelectorAll("tr").length===e.length&&(this.rows=e.map((function(t){return t.split("\t")})),this.normalizeRows(),!!this.columnCountsMatch())}normalizeRows(){const t=this.rows.map((function(t){return t.length})),e=Math.max(...t);this.rows.forEach((function(t){for(;t.length<e;)t.push("")}))}calculateColumnWidths(){var t=this;this.columnWidths=this.rows[0].map((function(e,n){return g(t.rows,n)}))}columnCountsMatch(){const t=this.rows[0].length;let e=0;return this.doc.querySelectorAll("table tr").forEach((function(t){e=Math.max(t.cells.length,e)})),t===e}formatColumn(t,e){return t+Array(this.columnWidths[e]-t.length+1).join(" ")}generateHeaderBreak(){var t=this;return`|${this.columnWidths.map((function(e,n){return Array(t.columnWidths[n]+3).join("-")})).join("|")}|`}}var v=n("mphk"),y=n("AFSh");function w(t){return t&&"string"!=typeof t?t.message:t}function b(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{parallelUploads:2};const n=Object(a.R)("paperclip","div-dropzone-icon s24"),i=t.find(".button-attach-file"),r=t.find(".attaching-file-message"),s=t.find(".button-cancel-uploading-files"),l=t.find(".retry-uploading-link"),c=t.find(".uploading-progress"),g=t.find(".uploading-error-container"),b=t.find(".uploading-error-message"),x=t.find(".uploading-progress-container"),C=t.data("uploads-path")||window.uploads_path||null,E=gon.max_file_size||10,F=t.find(".js-gfm-input");let k,T,S,_,A,O;F.wrap('<div class="div-dropzone"></div>'),F.on("paste",(function(t){return k(t)}));const R=F.closest(".md-area"),L=t.find(".div-dropzone");if(L.parent().addClass("div-dropzone-wrapper"),L.append('<div class="div-dropzone-hover"></div>'),L.find(".div-dropzone-hover").append(n),!C)return L.addClass("js-invalid-dropzone"),null;const z=L.dropzone({url:C,dictDefaultMessage:"",clickable:!0,paramName:"file",maxFilesize:E,uploadMultiple:!1,headers:y.a.headers,previewContainer:!1,...e,dragover:function(){R.addClass("is-dropzone-hover"),t.find(".div-dropzone-hover").css("opacity",.7)},dragleave:function(){R.removeClass("is-dropzone-hover"),t.find(".div-dropzone-hover").css("opacity",0)},drop:function(){R.removeClass("is-dropzone-hover"),t.find(".div-dropzone-hover").css("opacity",0),F.focus()},success(t,e){const n=this.getQueuedFiles().length+this.getUploadingFiles().length,r=n>=1;T(e.link.markdown,r),n||i.removeClass("hide"),S(e.link.url)},error:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(f.a)("Attaching the file failed."),n=arguments.length>2?arguments[2]:void 0;const r=w(e||n.responseText);g.removeClass("hide"),b.html(r),i.addClass("hide"),s.addClass("hide")},totaluploadprogress(t){_(this.files,r),c.text(`${Math.round(t)}%`)},sending:function(){i.addClass("hide"),g.addClass("hide"),x.removeClass("hide"),s.removeClass("hide")},removedfile:function(){i.removeClass("hide"),s.addClass("hide"),x.addClass("hide"),g.addClass("hide")},queuecomplete:function(){o()(".dz-preview").remove(),o()(".markdown-area").trigger("input"),x.addClass("hide"),s.addClass("hide")}}),$=o()(z[0]).children("textarea");s.on("click",(function(t){t.preventDefault(),t.stopPropagation(),h.a.forElement(L.get(0)).removeAllFiles(!0)})),l.on("click",(function(t){const e=h.a.forElement(t.target.closest(".js-main-target-form").querySelector(".div-dropzone")),n=e.files;t.preventDefault(),e.removeAllFiles(!0),n.map((function(t){const n=t;return n.status===h.a.ERROR&&(n.status=void 0,n.accepted=void 0),e.addFile(n)}))})),k=function(t){const e=t.originalEvent,{clipboardData:n}=e;if(n&&n.items){const i=new m(n);if(i.isTable()){t.preventDefault();const e=i.convertToTableMarkdown();T(e)}else if(!O(e)){[...n.files].forEach((function(e){if(-1!==e.type.indexOf("image")){t.preventDefault();const n=246,i=Object(p.b)(e)||"image.png",r=Object(d.x)(i,n);T(`{{${r}}}`),A(e,r)}}))}}},O=function(t){return[...t.clipboardData.items].some((function(t){return"text/plain"===t.type}))},T=function(t,e){let n=t;e&&(n+="\n\n");const i=$.get(0),r=i.selectionStart,s=i.selectionEnd,a=o()($).val().length,l=o()($).val().substring(0,r),u=o()($).val().substring(s,a);return o()($).val(l+n+u),i.setSelectionRange(r+n.length,s+n.length),i.style.height=`${i.scrollHeight}px`,F.get(0).dispatchEvent(new Event("input")),F.trigger("input")},S=function(e){o()(t).append(`<input type="hidden" name="files[]" value="${u()(e)}">`)};const D=function(){return x.addClass("hide")};return A=function(t,e){const n=new FormData;n.append("file",t,e),x.removeClass("hide"),v.a.post(C,n).then((function(t){let{data:n}=t;const i=n.link.markdown;!function(t,e){const n=o()($),i=n.get(0),r=i.selectionStart,s=i.selectionEnd,a=`{{${t}}}`;n.val((function(t,n){return n.replace(a,e)})),i.setSelectionRange(r-a.length+e.length,s-a.length+e.length),n.trigger("change")}(e,i),D()})).catch((function(t){var e;e=t.response.data.message,g.removeClass("hide"),b.html(e),D()}))},_=function(t,e){const n=t.filter((function(t){return"uploading"===t.status||"queued"===t.status})).length,i=Object(f.f)("Attaching a file","Attaching %d files",n);e.text(`${i} -`)},t.find(".markdown-selector").click((function(t){t.preventDefault(),o()(this).closest(".gfm-form").find(".div-dropzone").click(),F.focus()})),L.get(0)?h.a.forElement(L.get(0)):null}h.a.autoDiscover=!1;var x=n("Gapp");class C{constructor(t){var e=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.form=t,this.textarea=this.form.find("textarea.js-gfm-input"),this.enableGFM={...s.b,...n};const r=gl.GfmAutoComplete&&gl.GfmAutoComplete.dataSources||{};Object.keys(this.enableGFM).forEach((function(t){"emojis"===t||r[t]||(e.enableGFM[t]=!1)})),this.destroy(),this.setupForm(i),this.form.data("glForm",this)}destroy(){this.clearEventListeners(),this.autoComplete&&this.autoComplete.destroy(),this.formDropzone&&this.formDropzone.destroy(),this.form.data("glForm",null)}setupForm(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const e=this.form.is(":not(.gfm-form)")||t;this.form.removeClass("js-new-note-form"),e&&(this.form.find(".div-dropzone").remove(),this.form.addClass("gfm-form"),Object(a.l)(this.form.find(".js-note-text"),this.form.find(".js-comment-button, .js-note-new-discussion")),this.autoComplete=new s.a(gl.GfmAutoComplete&&gl.GfmAutoComplete.dataSources),this.autoComplete.setup(this.form.find(".js-gfm-input"),this.enableGFM),this.formDropzone=b(this.form,{parallelUploads:1}),Object(i.a)(this.textarea)),this.addEventListeners(),Object(x.b)(this.form),this.form.show(),this.isAutosizeable&&this.setupAutosize(),!0===this.textarea.data("autofocus")&&this.textarea.focus()}setupAutosize(){var t=this;this.textarea.off("autosize:resized").on("autosize:resized",this.setHeightData.bind(this)),this.textarea.off("mouseup.autosize").on("mouseup.autosize",this.destroyAutosize.bind(this)),setTimeout((function(){Object(i.a)(t.textarea),t.textarea.css("resize","vertical")}),0)}setHeightData(){this.textarea.data("height",this.textarea.outerHeight())}destroyAutosize(){const t=this.textarea.outerHeight();this.textarea.data("height")!==t&&(i.a.destroy(this.textarea),this.textarea.data("height",t),this.textarea.outerHeight(t),this.textarea.css("max-height",window.outerHeight))}clearEventListeners(){this.textarea.off("focus"),this.textarea.off("blur"),Object(x.c)(this.form)}addEventListeners(){this.textarea.on("focus",(function(){o()(this).closest(".md-area").addClass("is-focused")})),this.textarea.on("blur",(function(){o()(this).closest(".md-area").removeClass("is-focused")}))}get supportsQuickActions(){return Boolean(this.textarea.data("supports-quick-actions"))}}},"vP7+":function(t,e,n){(function(t,e){(function(){var n,i,r,o,s,a,l,u,c=[].slice,h={}.hasOwnProperty;l=function(){},i=function(){function t(){}return t.prototype.addEventListener=t.prototype.on,t.prototype.on=function(t,e){return this._callbacks=this._callbacks||{},this._callbacks[t]||(this._callbacks[t]=[]),this._callbacks[t].push(e),this},t.prototype.emit=function(){var t,e,n,i,r;if(n=arguments[0],t=2<=arguments.length?c.call(arguments,1):[],this._callbacks=this._callbacks||{},e=this._callbacks[n])for(i=0,r=e.length;i<r;i++)e[i].apply(this,t);return this},t.prototype.removeListener=t.prototype.off,t.prototype.removeAllListeners=t.prototype.off,t.prototype.removeEventListener=t.prototype.off,t.prototype.off=function(t,e){var n,i,r,o;if(!this._callbacks||0===arguments.length)return this._callbacks={},this;if(!(n=this._callbacks[t]))return this;if(1===arguments.length)return delete this._callbacks[t],this;for(i=r=0,o=n.length;r<o;i=++r)if(n[i]===e){n.splice(i,1);break}return this},t}(),(n=function(t){var e,n;function r(t,n){var i,o,s;if(this.element=t,this.version=r.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");if(r.instances.push(this),this.element.dropzone=this,i=null!=(s=r.optionsForElement(this.element))?s:{},this.options=e({},this.defaultOptions,i,null!=n?n:{}),this.options.forceFallback||!r.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.method=this.options.method.toUpperCase(),(o=this.getExistingFallback())&&o.parentNode&&o.parentNode.removeChild(o),!1!==this.options.previewsContainer&&(this.options.previewsContainer?this.previewsContainer=r.getElement(this.options.previewsContainer,"previewsContainer"):this.previewsContainer=this.element),this.options.clickable&&(!0===this.options.clickable?this.clickableElements=[this.element]:this.clickableElements=r.getElements(this.options.clickable,"clickable")),this.init()}return function(t,e){for(var n in e)h.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(r,t),r.prototype.Emitter=i,r.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],r.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,filesizeBase:1e3,maxFiles:null,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(t,e){return e()},init:function(){return l},forceFallback:!1,fallback:function(){var t,e,n,i,o,s;for(this.element.className=this.element.className+" dz-browser-not-supported",i=0,o=(s=this.element.getElementsByTagName("div")).length;i<o;i++)t=s[i],/(^| )dz-message($| )/.test(t.className)&&(e=t,t.className="dz-message");return e||(e=r.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(e)),(n=e.getElementsByTagName("span")[0])&&(null!=n.textContent?n.textContent=this.options.dictFallbackMessage:null!=n.innerText&&(n.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(t){var e,n,i;return e={srcX:0,srcY:0,srcWidth:t.width,srcHeight:t.height},n=t.width/t.height,e.optWidth=this.options.thumbnailWidth,e.optHeight=this.options.thumbnailHeight,null==e.optWidth&&null==e.optHeight?(e.optWidth=e.srcWidth,e.optHeight=e.srcHeight):null==e.optWidth?e.optWidth=n*e.optHeight:null==e.optHeight&&(e.optHeight=1/n*e.optWidth),i=e.optWidth/e.optHeight,t.height<e.optHeight||t.width<e.optWidth?(e.trgHeight=e.srcHeight,e.trgWidth=e.srcWidth):n>i?(e.srcHeight=t.height,e.srcWidth=e.srcHeight*i):(e.srcWidth=t.width,e.srcHeight=e.srcWidth/i),e.srcX=(t.width-e.srcWidth)/2,e.srcY=(t.height-e.srcHeight)/2,e},drop:function(t){return this.element.classList.remove("dz-drag-hover")},dragstart:l,dragend:function(t){return this.element.classList.remove("dz-drag-hover")},dragenter:function(t){return this.element.classList.add("dz-drag-hover")},dragover:function(t){return this.element.classList.add("dz-drag-hover")},dragleave:function(t){return this.element.classList.remove("dz-drag-hover")},paste:l,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(t){var e,n,i,o,s,a,l,u,c,h,p,d,f;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){for(t.previewElement=r.createElement(this.options.previewTemplate.trim()),t.previewTemplate=t.previewElement,this.previewsContainer.appendChild(t.previewElement),i=0,a=(c=t.previewElement.querySelectorAll("[data-dz-name]")).length;i<a;i++)c[i].textContent=t.name;for(o=0,l=(h=t.previewElement.querySelectorAll("[data-dz-size]")).length;o<l;o++)h[o].innerHTML=this.filesize(t.size);for(this.options.addRemoveLinks&&(t._removeLink=r.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),t.previewElement.appendChild(t._removeLink)),f=this,e=function(e){return e.preventDefault(),e.stopPropagation(),t.status===r.UPLOADING?r.confirm(f.options.dictCancelUploadConfirmation,(function(){return f.removeFile(t)})):f.options.dictRemoveFileConfirmation?r.confirm(f.options.dictRemoveFileConfirmation,(function(){return f.removeFile(t)})):f.removeFile(t)},d=[],s=0,u=(p=t.previewElement.querySelectorAll("[data-dz-remove]")).length;s<u;s++)n=p[s],d.push(n.addEventListener("click",e));return d}},removedfile:function(t){var e;return t.previewElement&&null!=(e=t.previewElement)&&e.parentNode.removeChild(t.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(t,e){var n,i,r,o;if(t.previewElement){for(t.previewElement.classList.remove("dz-file-preview"),i=0,r=(o=t.previewElement.querySelectorAll("[data-dz-thumbnail]")).length;i<r;i++)(n=o[i]).alt=t.name,n.src=e;return setTimeout((function(){return t.previewElement.classList.add("dz-image-preview")}),1)}},error:function(t,e){var n,i,r,o,s;if(t.previewElement){for(t.previewElement.classList.add("dz-error"),"String"!=typeof e&&e.error&&(e=e.error),s=[],i=0,r=(o=t.previewElement.querySelectorAll("[data-dz-errormessage]")).length;i<r;i++)n=o[i],s.push(n.textContent=e);return s}},errormultiple:l,processing:function(t){if(t.previewElement&&(t.previewElement.classList.add("dz-processing"),t._removeLink))return t._removeLink.textContent=this.options.dictCancelUpload},processingmultiple:l,uploadprogress:function(t,e,n){var i,r,o,s,a;if(t.previewElement){for(a=[],r=0,o=(s=t.previewElement.querySelectorAll("[data-dz-uploadprogress]")).length;r<o;r++)"PROGRESS"===(i=s[r]).nodeName?a.push(i.value=e):a.push(i.style.width=e+"%");return a}},totaluploadprogress:l,sending:l,sendingmultiple:l,success:function(t){if(t.previewElement)return t.previewElement.classList.add("dz-success")},successmultiple:l,canceled:function(t){return this.emit("error",t,"Upload canceled.")},canceledmultiple:l,complete:function(t){if(t._removeLink&&(t._removeLink.textContent=this.options.dictRemoveFile),t.previewElement)return t.previewElement.classList.add("dz-complete")},completemultiple:l,maxfilesexceeded:l,maxfilesreached:l,queuecomplete:l,addedfiles:l,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>'},e=function(){var t,e,n,i,r,o,s;for(i=arguments[0],o=0,s=(n=2<=arguments.length?c.call(arguments,1):[]).length;o<s;o++)for(t in e=n[o])r=e[t],i[t]=r;return i},r.prototype.getAcceptedFiles=function(){var t,e,n,i,r;for(r=[],e=0,n=(i=this.files).length;e<n;e++)(t=i[e]).accepted&&r.push(t);return r},r.prototype.getRejectedFiles=function(){var t,e,n,i,r;for(r=[],e=0,n=(i=this.files).length;e<n;e++)(t=i[e]).accepted||r.push(t);return r},r.prototype.getFilesWithStatus=function(t){var e,n,i,r,o;for(o=[],n=0,i=(r=this.files).length;n<i;n++)(e=r[n]).status===t&&o.push(e);return o},r.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(r.QUEUED)},r.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(r.UPLOADING)},r.prototype.getAddedFiles=function(){return this.getFilesWithStatus(r.ADDED)},r.prototype.getActiveFiles=function(){var t,e,n,i,o;for(o=[],e=0,n=(i=this.files).length;e<n;e++)(t=i[e]).status!==r.UPLOADING&&t.status!==r.QUEUED||o.push(t);return o},r.prototype.init=function(){var t,e,n,i,o,s,a,l;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(r.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(l=this,(n=function(){return l.hiddenFileInput&&l.hiddenFileInput.parentNode.removeChild(l.hiddenFileInput),l.hiddenFileInput=document.createElement("input"),l.hiddenFileInput.setAttribute("type","file"),(null==l.options.maxFiles||l.options.maxFiles>1)&&l.hiddenFileInput.setAttribute("multiple","multiple"),l.hiddenFileInput.className="dz-hidden-input",null!=l.options.acceptedFiles&&l.hiddenFileInput.setAttribute("accept",l.options.acceptedFiles),null!=l.options.capture&&l.hiddenFileInput.setAttribute("capture",l.options.capture),l.hiddenFileInput.style.visibility="hidden",l.hiddenFileInput.style.position="absolute",l.hiddenFileInput.style.top="0",l.hiddenFileInput.style.left="0",l.hiddenFileInput.style.height="0",l.hiddenFileInput.style.width="0",document.querySelector(l.options.hiddenInputContainer).appendChild(l.hiddenFileInput),l.hiddenFileInput.addEventListener("change",(function(){var t,e,i,r;if((e=l.hiddenFileInput.files).length)for(i=0,r=e.length;i<r;i++)t=e[i],l.addFile(t);return l.emit("addedfiles",e),n()}))})()),this.URL=null!=(s=window.URL)?s:window.webkitURL,i=0,o=(a=this.events).length;i<o;i++)t=a[i],this.on(t,this.options[t]);return this.on("uploadprogress",function(t){return function(){return t.updateTotalUploadProgress()}}(this)),this.on("removedfile",function(t){return function(){return t.updateTotalUploadProgress()}}(this)),this.on("canceled",function(t){return function(e){return t.emit("complete",e)}}(this)),this.on("complete",function(t){return function(e){if(0===t.getAddedFiles().length&&0===t.getUploadingFiles().length&&0===t.getQueuedFiles().length)return setTimeout((function(){return t.emit("queuecomplete")}),0)}}(this)),e=function(t){return t.stopPropagation(),t.preventDefault?t.preventDefault():t.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(t){return function(e){return t.emit("dragstart",e)}}(this),dragenter:function(t){return function(n){return e(n),t.emit("dragenter",n)}}(this),dragover:function(t){return function(n){var i;try{i=n.dataTransfer.effectAllowed}catch(t){}return n.dataTransfer.dropEffect="move"===i||"linkMove"===i?"move":"copy",e(n),t.emit("dragover",n)}}(this),dragleave:function(t){return function(e){return t.emit("dragleave",e)}}(this),drop:function(t){return function(n){return e(n),t.drop(n)}}(this),dragend:function(t){return function(e){return t.emit("dragend",e)}}(this)}}],this.clickableElements.forEach(function(t){return function(e){return t.listeners.push({element:e,events:{click:function(n){return(e!==t.element||n.target===t.element||r.elementInside(n.target,t.element.querySelector(".dz-message")))&&t.hiddenFileInput.click(),!0}}})}}(this)),this.enable(),this.options.init.call(this)},r.prototype.destroy=function(){var t;return this.disable(),this.removeAllFiles(!0),(null!=(t=this.hiddenFileInput)?t.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,r.instances.splice(r.instances.indexOf(this),1)},r.prototype.updateTotalUploadProgress=function(){var t,e,n,i,r,o,s;if(n=0,e=0,this.getActiveFiles().length){for(r=0,o=(s=this.getActiveFiles()).length;r<o;r++)n+=(t=s[r]).upload.bytesSent,e+=t.upload.total;i=100*n/e}else i=100;return this.emit("totaluploadprogress",i,e,n)},r.prototype._getParamName=function(t){return"function"==typeof this.options.paramName?this.options.paramName(t):this.options.paramName+(this.options.uploadMultiple?"["+t+"]":"")},r.prototype.getFallbackForm=function(){var t,e,n,i;return(t=this.getExistingFallback())?t:(n='<div class="dz-fallback">',this.options.dictFallbackText&&(n+="<p>"+this.options.dictFallbackText+"</p>"),n+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>',e=r.createElement(n),"FORM"!==this.element.tagName?(i=r.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>')).appendChild(e):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=i?i:e)},r.prototype.getExistingFallback=function(){var t,e,n,i,r,o;for(e=function(t){var e,n,i;for(n=0,i=t.length;n<i;n++)if(e=t[n],/(^| )fallback($| )/.test(e.className))return e},i=0,r=(o=["div","form"]).length;i<r;i++)if(n=o[i],t=e(this.element.getElementsByTagName(n)))return t},r.prototype.setupEventListeners=function(){var t,e,n,i,r,o,s;for(s=[],i=0,r=(o=this.listeners).length;i<r;i++)t=o[i],s.push(function(){var i,r;for(e in r=[],i=t.events)n=i[e],r.push(t.element.addEventListener(e,n,!1));return r}());return s},r.prototype.removeEventListeners=function(){var t,e,n,i,r,o,s;for(s=[],i=0,r=(o=this.listeners).length;i<r;i++)t=o[i],s.push(function(){var i,r;for(e in r=[],i=t.events)n=i[e],r.push(t.element.removeEventListener(e,n,!1));return r}());return s},r.prototype.disable=function(){var t,e,n,i,r;for(this.clickableElements.forEach((function(t){return t.classList.remove("dz-clickable")})),this.removeEventListeners(),r=[],e=0,n=(i=this.files).length;e<n;e++)t=i[e],r.push(this.cancelUpload(t));return r},r.prototype.enable=function(){return this.clickableElements.forEach((function(t){return t.classList.add("dz-clickable")})),this.setupEventListeners()},r.prototype.filesize=function(t){var e,n,i,r,o,s,a;if(n=0,i="b",t>0){for(e=s=0,a=(o=["TB","GB","MB","KB","b"]).length;s<a;e=++s)if(r=o[e],t>=Math.pow(this.options.filesizeBase,4-e)/10){n=t/Math.pow(this.options.filesizeBase,4-e),i=r;break}n=Math.round(10*n)/10}return"<strong>"+n+"</strong> "+i},r.prototype._updateMaxFilesReachedClass=function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},r.prototype.drop=function(t){var e,n;t.dataTransfer&&(this.emit("drop",t),e=t.dataTransfer.files,this.emit("addedfiles",e),e.length&&((n=t.dataTransfer.items)&&n.length&&null!=n[0].webkitGetAsEntry?this._addFilesFromItems(n):this.handleFiles(e)))},r.prototype.paste=function(t){var e,n;if(null!=(null!=t&&null!=(n=t.clipboardData)?n.items:void 0))return this.emit("paste",t),(e=t.clipboardData.items).length?this._addFilesFromItems(e):void 0},r.prototype.handleFiles=function(t){var e,n,i,r;for(r=[],n=0,i=t.length;n<i;n++)e=t[n],r.push(this.addFile(e));return r},r.prototype._addFilesFromItems=function(t){var e,n,i,r,o;for(o=[],i=0,r=t.length;i<r;i++)null!=(n=t[i]).webkitGetAsEntry&&(e=n.webkitGetAsEntry())?e.isFile?o.push(this.addFile(n.getAsFile())):e.isDirectory?o.push(this._addFilesFromDirectory(e,e.name)):o.push(void 0):null!=n.getAsFile&&(null==n.kind||"file"===n.kind)?o.push(this.addFile(n.getAsFile())):o.push(void 0);return o},r.prototype._addFilesFromDirectory=function(t,e){var n,i,r;return n=t.createReader(),r=this,i=function(t){var n,i,o;for(i=0,o=t.length;i<o;i++)(n=t[i]).isFile?n.file((function(t){if(!r.options.ignoreHiddenFiles||"."!==t.name.substring(0,1))return t.fullPath=e+"/"+t.name,r.addFile(t)})):n.isDirectory&&r._addFilesFromDirectory(n,e+"/"+n.name)},n.readEntries(i,(function(t){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log(t):void 0}))},r.prototype.accept=function(t,e){return t.size>1024*this.options.maxFilesize*1024?e(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(t.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):r.isValidFile(t,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(e(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",t)):this.options.accept.call(this,t,e):e(this.options.dictInvalidFileType)},r.prototype.addFile=function(t){return t.upload={progress:0,total:t.size,bytesSent:0},this.files.push(t),t.status=r.ADDED,this.emit("addedfile",t),this._enqueueThumbnail(t),this.accept(t,(e=this,function(n){return n?(t.accepted=!1,e._errorProcessing([t],n)):(t.accepted=!0,e.options.autoQueue&&e.enqueueFile(t)),e._updateMaxFilesReachedClass()}));var e},r.prototype.enqueueFiles=function(t){var e,n,i;for(n=0,i=t.length;n<i;n++)e=t[n],this.enqueueFile(e);return null},r.prototype.enqueueFile=function(t){if(t.status!==r.ADDED||!0!==t.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(t.status=r.QUEUED,this.options.autoProcessQueue)return setTimeout((e=this,function(){return e.processQueue()}),0);var e},r.prototype._thumbnailQueue=[],r.prototype._processingThumbnail=!1,r.prototype._enqueueThumbnail=function(t){if(this.options.createImageThumbnails&&t.type.match(/image.*/)&&t.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(t),setTimeout((e=this,function(){return e._processThumbnailQueue()}),0);var e},r.prototype._processThumbnailQueue=function(){var t;if(!this._processingThumbnail&&0!==this._thumbnailQueue.length)return this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shift(),(t=this,function(){return t._processingThumbnail=!1,t._processThumbnailQueue()}))},r.prototype.removeFile=function(t){if(t.status===r.UPLOADING&&this.cancelUpload(t),this.files=u(this.files,t),this.emit("removedfile",t),0===this.files.length)return this.emit("reset")},r.prototype.removeAllFiles=function(t){var e,n,i,o;for(null==t&&(t=!1),n=0,i=(o=this.files.slice()).length;n<i;n++)((e=o[n]).status!==r.UPLOADING||t)&&this.removeFile(e);return null},r.prototype.createThumbnail=function(t,e){var n,i;return(n=new FileReader).onload=(i=this,function(){return"image/svg+xml"===t.type?(i.emit("thumbnail",t,n.result),void(null!=e&&e())):i.createThumbnailFromUrl(t,n.result,e)}),n.readAsDataURL(t)},r.prototype.createThumbnailFromUrl=function(t,e,n,i){var r,o;return r=document.createElement("img"),i&&(r.crossOrigin=i),r.onload=(o=this,function(){var e,i,s,l,u,c,h,p;if(t.width=r.width,t.height=r.height,null==(s=o.options.resize.call(o,t)).trgWidth&&(s.trgWidth=s.optWidth),null==s.trgHeight&&(s.trgHeight=s.optHeight),i=(e=document.createElement("canvas")).getContext("2d"),e.width=s.trgWidth,e.height=s.trgHeight,a(i,r,null!=(u=s.srcX)?u:0,null!=(c=s.srcY)?c:0,s.srcWidth,s.srcHeight,null!=(h=s.trgX)?h:0,null!=(p=s.trgY)?p:0,s.trgWidth,s.trgHeight),l=e.toDataURL("image/png"),o.emit("thumbnail",t,l),null!=n)return n()}),null!=n&&(r.onerror=n),r.src=e},r.prototype.processQueue=function(){var t,e,n,i;if(e=this.options.parallelUploads,t=n=this.getUploadingFiles().length,!(n>=e)&&(i=this.getQueuedFiles()).length>0){if(this.options.uploadMultiple)return this.processFiles(i.slice(0,e-n));for(;t<e;){if(!i.length)return;this.processFile(i.shift()),t++}}},r.prototype.processFile=function(t){return this.processFiles([t])},r.prototype.processFiles=function(t){var e,n,i;for(n=0,i=t.length;n<i;n++)(e=t[n]).processing=!0,e.status=r.UPLOADING,this.emit("processing",e);return this.options.uploadMultiple&&this.emit("processingmultiple",t),this.uploadFiles(t)},r.prototype._getFilesWithXhr=function(t){var e;return function(){var n,i,r,o;for(o=[],n=0,i=(r=this.files).length;n<i;n++)(e=r[n]).xhr===t&&o.push(e);return o}.call(this)},r.prototype.cancelUpload=function(t){var e,n,i,o,s,a,l;if(t.status===r.UPLOADING){for(i=0,s=(n=this._getFilesWithXhr(t.xhr)).length;i<s;i++)(e=n[i]).status=r.CANCELED;for(t.xhr.abort(),o=0,a=n.length;o<a;o++)e=n[o],this.emit("canceled",e);this.options.uploadMultiple&&this.emit("canceledmultiple",n)}else(l=t.status)!==r.ADDED&&l!==r.QUEUED||(t.status=r.CANCELED,this.emit("canceled",t),this.options.uploadMultiple&&this.emit("canceledmultiple",[t]));if(this.options.autoProcessQueue)return this.processQueue()},n=function(){var t,e;return e=arguments[0],t=2<=arguments.length?c.call(arguments,1):[],"function"==typeof e?e.apply(this,t):e},r.prototype.uploadFile=function(t){return this.uploadFiles([t])},r.prototype.uploadFiles=function(t){var i,o,s,a,l,u,c,h,p,d,f,g,m,v,y,w,b,x,C,E,F,k,T,S,_,A,O,R,L,z,$,D,I,M;for(x=new XMLHttpRequest,C=0,T=t.length;C<T;C++)(i=t[C]).xhr=x;for(a in g=n(this.options.method,t),w=n(this.options.url,t),x.open(g,w,!0),x.withCredentials=!!this.options.withCredentials,v=null,M=this,s=function(){var e,n,r;for(r=[],e=0,n=t.length;e<n;e++)i=t[e],r.push(M._errorProcessing(t,v||M.options.dictResponseError.replace("{{statusCode}}",x.status),x));return r},y=function(e){return function(n){var r,o,s,a,l,u,c,h,p;if(null!=n)for(o=100*n.loaded/n.total,s=0,u=t.length;s<u;s++)(i=t[s]).upload={progress:o,total:n.total,bytesSent:n.loaded};else{for(r=!0,o=100,a=0,c=t.length;a<c;a++)100===(i=t[a]).upload.progress&&i.upload.bytesSent===i.upload.total||(r=!1),i.upload.progress=o,i.upload.bytesSent=i.upload.total;if(r)return}for(p=[],l=0,h=t.length;l<h;l++)i=t[l],p.push(e.emit("uploadprogress",i,o,i.upload.bytesSent));return p}}(this),x.onload=function(e){return function(n){var i;if(t[0].status!==r.CANCELED&&4===x.readyState){if(v=x.responseText,x.getResponseHeader("content-type")&&~x.getResponseHeader("content-type").indexOf("application/json"))try{v=JSON.parse(v)}catch(t){n=t,v="Invalid JSON response from server."}return y(),200<=(i=x.status)&&i<300?e._finished(t,v,n):s()}}}(this),x.onerror=function(){if(t[0].status!==r.CANCELED)return s()},(null!=(R=x.upload)?R:x).onprogress=y,u={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&e(u,this.options.headers),u)(l=u[a])&&x.setRequestHeader(a,l);if(o=new FormData,this.options.params)for(f in L=this.options.params)b=L[f],o.append(f,b);for(E=0,S=t.length;E<S;E++)i=t[E],this.emit("sending",i,x,o);if(this.options.uploadMultiple&&this.emit("sendingmultiple",t,x,o),"FORM"===this.element.tagName)for(F=0,_=(z=this.element.querySelectorAll("input, textarea, select, button")).length;F<_;F++)if(p=(h=z[F]).getAttribute("name"),d=h.getAttribute("type"),"SELECT"===h.tagName&&h.hasAttribute("multiple"))for(k=0,A=($=h.options).length;k<A;k++)(m=$[k]).selected&&o.append(p,m.value);else(!d||"checkbox"!==(D=d.toLowerCase())&&"radio"!==D||h.checked)&&o.append(p,h.value);for(c=O=0,I=t.length-1;0<=I?O<=I:O>=I;c=0<=I?++O:--O)o.append(this._getParamName(c),t[c],t[c].name);return this.submitRequest(x,o,t)},r.prototype.submitRequest=function(t,e,n){return t.send(e)},r.prototype._finished=function(t,e,n){var i,o,s;for(o=0,s=t.length;o<s;o++)(i=t[o]).status=r.SUCCESS,this.emit("success",i,e,n),this.emit("complete",i);if(this.options.uploadMultiple&&(this.emit("successmultiple",t,e,n),this.emit("completemultiple",t)),this.options.autoProcessQueue)return this.processQueue()},r.prototype._errorProcessing=function(t,e,n){var i,o,s;for(o=0,s=t.length;o<s;o++)(i=t[o]).status=r.ERROR,this.emit("error",i,e,n),this.emit("complete",i);if(this.options.uploadMultiple&&(this.emit("errormultiple",t,e,n),this.emit("completemultiple",t)),this.options.autoProcessQueue)return this.processQueue()},r}(i)).version="4.2.0",n.options={},n.optionsForElement=function(t){return t.getAttribute("id")?n.options[r(t.getAttribute("id"))]:void 0},n.instances=[],n.forElement=function(t){if("string"==typeof t&&(t=document.querySelector(t)),null==(null!=t?t.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return t.dropzone},n.autoDiscover=!0,n.discover=function(){var t,e,i,r,o,s;for(document.querySelectorAll?i=document.querySelectorAll(".dropzone"):(i=[],(t=function(t){var e,n,r,o;for(o=[],n=0,r=t.length;n<r;n++)e=t[n],/(^| )dropzone($| )/.test(e.className)?o.push(i.push(e)):o.push(void 0);return o})(document.getElementsByTagName("div")),t(document.getElementsByTagName("form"))),s=[],r=0,o=i.length;r<o;r++)e=i[r],!1!==n.optionsForElement(e)?s.push(new n(e)):s.push(void 0);return s},n.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],n.isBrowserSupported=function(){var t,e,i,r;if(t=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(e=0,i=(r=n.blacklistedBrowsers).length;e<i;e++)r[e].test(navigator.userAgent)&&(t=!1);else t=!1;else t=!1;return t},u=function(t,e){var n,i,r,o;for(o=[],i=0,r=t.length;i<r;i++)(n=t[i])!==e&&o.push(n);return o},r=function(t){return t.replace(/[\-_](\w)/g,(function(t){return t.charAt(1).toUpperCase()}))},n.createElement=function(t){var e;return(e=document.createElement("div")).innerHTML=t,e.childNodes[0]},n.elementInside=function(t,e){if(t===e)return!0;for(;t=t.parentNode;)if(t===e)return!0;return!1},n.getElement=function(t,e){var n;if("string"==typeof t?n=document.querySelector(t):null!=t.nodeType&&(n=t),null==n)throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector or a plain HTML element.");return n},n.getElements=function(t,e){var n,i,r,o,s,a,l;if(t instanceof Array){i=[];try{for(r=0,s=t.length;r<s;r++)n=t[r],i.push(this.getElement(n,e))}catch(t){t,i=null}}else if("string"==typeof t)for(i=[],o=0,a=(l=document.querySelectorAll(t)).length;o<a;o++)n=l[o],i.push(n);else null!=t.nodeType&&(i=[t]);if(null==i||!i.length)throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return i},n.confirm=function(t,e,n){return window.confirm(t)?e():null!=n?n():void 0},n.isValidFile=function(t,e){var n,i,r,o,s;if(!e)return!0;for(e=e.split(","),n=(i=t.type).replace(/\/.*$/,""),o=0,s=e.length;o<s;o++)if("."===(r=(r=e[o]).trim()).charAt(0)){if(-1!==t.name.toLowerCase().indexOf(r.toLowerCase(),t.name.length-r.length))return!0}else if(/\/\*$/.test(r)){if(n===r.replace(/\/.*$/,""))return!0}else if(i===r)return!0;return!1},null!=t&&(t.fn.dropzone=function(t){return this.each((function(){return new n(this,t)}))}),null!==e?e.exports=n:window.Dropzone=n,n.ADDED="added",n.QUEUED="queued",n.ACCEPTED=n.QUEUED,n.UPLOADING="uploading",n.PROCESSING=n.UPLOADING,n.CANCELED="canceled",n.ERROR="error",n.SUCCESS="success",s=function(t){var e,n,i,r,o,s,a,l;for(t.naturalWidth,o=t.naturalHeight,(e=document.createElement("canvas")).width=1,e.height=o,(n=e.getContext("2d")).drawImage(t,0,0),i=n.getImageData(0,0,1,o).data,l=0,r=o,s=o;s>l;)0===i[4*(s-1)+3]?r=s:l=s,s=r+l>>1;return 0===(a=s/o)?1:a},a=function(t,e,n,i,r,o,a,l,u,c){var h;return h=s(e),t.drawImage(e,n,i,r,o,a,l,u,c/h)},o=function(t,e){var n,i,r,o,s,a,l,u,c;if(r=!1,c=!0,i=t.document,u=i.documentElement,n=i.addEventListener?"addEventListener":"attachEvent",l=i.addEventListener?"removeEventListener":"detachEvent",a=i.addEventListener?"":"on",o=function(n){if("readystatechange"!==n.type||"complete"===i.readyState)return("load"===n.type?t:i)[l](a+n.type,o,!1),!r&&(r=!0)?e.call(t,n.type||n):void 0},s=function(){try{u.doScroll("left")}catch(t){return t,void setTimeout(s,50)}return o("poll")},"complete"!==i.readyState){if(i.createEventObject&&u.doScroll){try{c=!t.frameElement}catch(t){}c&&s()}return i[n](a+"DOMContentLoaded",o,!1),i[n](a+"readystatechange",o,!1),t[n](a+"load",o,!1)}},n._autoDiscoverFunction=function(){if(n.autoDiscover)return n.discover()},o(window,n._autoDiscoverFunction)}).call(this)}).call(this,n("6oy4"),n("Y4xB")(t))},vniq:function(t,e,n){var i=n("TrLt");t.exports=function(t,e){if(t!==e){var n=void 0!==t,r=null===t,o=t==t,s=i(t),a=void 0!==e,l=null===e,u=e==e,c=i(e);if(!l&&!c&&!s&&t>e||s&&a&&u&&!l&&!c||r&&a&&u||!n&&u||!o)return 1;if(!r&&!s&&!c&&t<e||c&&n&&o&&!r&&!s||l&&n&&o||!a&&o||!u)return-1}return 0}},y7PY:function(t,e,n){var i,r,o;o=this,i=[n("6oy4")],void 0===(r=function(t){return o.returnExportsGlobal=function(t){"use strict";var e,n,i,r,o,s,a,l;e=function(){function e(t){this.$inputor=t,this.domInputor=this.$inputor[0]}return e.prototype.setPos=function(t){var e,n,i,r;return(r=a.getSelection())&&(i=0,n=!1,(e=function(t,o){var a,l,u,c,h,p;for(p=[],u=0,c=(h=o.childNodes).length;u<c&&(a=h[u],!n);u++)if(3===a.nodeType){if(i+a.length>=t){n=!0,(l=s.createRange()).setStart(a,t-i),r.removeAllRanges(),r.addRange(l);break}p.push(i+=a.length)}else p.push(e(t,a));return p})(t,this.domInputor)),this.domInputor},e.prototype.getIEPosition=function(){return this.getPosition()},e.prototype.getPosition=function(){var t,e;return e=this.getOffset(),t=this.$inputor.offset(),e.left-=t.left,e.top-=t.top,e},e.prototype.getOldIEPos=function(){var t,e;return e=s.selection.createRange(),(t=s.body.createTextRange()).moveToElementText(this.domInputor),t.setEndPoint("EndToEnd",e),t.text.length},e.prototype.getPos=function(){var t,e,n;return(n=this.range())?((t=n.cloneRange()).selectNodeContents(this.domInputor),t.setEnd(n.endContainer,n.endOffset),e=t.toString().length,t.detach(),e):s.selection?this.getOldIEPos():void 0},e.prototype.getOldIEOffset=function(){var t,e;return(t=s.selection.createRange().duplicate()).moveStart("character",-1),{height:(e=t.getBoundingClientRect()).bottom-e.top,left:e.left,top:e.top}},e.prototype.getOffset=function(e){var n,i,r,o,l;return a.getSelection&&(r=this.range())?(r.endOffset-1>0&&r.endContainer!==this.domInputor&&((n=r.cloneRange()).setStart(r.endContainer,r.endOffset-1),n.setEnd(r.endContainer,r.endOffset),i={height:(o=n.getBoundingClientRect()).height,left:o.left+o.width,top:o.top},n.detach()),i&&0!==(null!=i?i.height:void 0)||(n=r.cloneRange(),l=t(s.createTextNode("|")),n.insertNode(l[0]),n.selectNode(l[0]),i={height:(o=n.getBoundingClientRect()).height,left:o.left,top:o.top},l.remove(),n.detach())):s.selection&&(i=this.getOldIEOffset()),i&&(i.top+=t(a).scrollTop(),i.left+=t(a).scrollLeft()),i},e.prototype.range=function(){var t;if(a.getSelection)return(t=a.getSelection()).rangeCount>0?t.getRangeAt(0):null},e}(),n=function(){function e(t){this.$inputor=t,this.domInputor=this.$inputor[0]}return e.prototype.getIEPos=function(){var t,e,n,i,r,o;return e=this.domInputor,i=0,(r=s.selection.createRange())&&r.parentElement()===e&&(n=e.value.replace(/\r\n/g,"\n").length,(o=e.createTextRange()).moveToBookmark(r.getBookmark()),(t=e.createTextRange()).collapse(!1),i=o.compareEndPoints("StartToEnd",t)>-1?n:-o.moveStart("character",-n)),i},e.prototype.getPos=function(){return s.selection?this.getIEPos():this.domInputor.selectionStart},e.prototype.setPos=function(t){var e,n;return e=this.domInputor,s.selection?((n=e.createTextRange()).move("character",t),n.select()):e.setSelectionRange&&e.setSelectionRange(t,t),e},e.prototype.getIEOffset=function(t){var e;return e=this.domInputor.createTextRange(),t||(t=this.getPos()),e.move("character",t),{left:e.boundingLeft,top:e.boundingTop,height:e.boundingHeight}},e.prototype.getOffset=function(e){var n,i,r;return n=this.$inputor,s.selection?((i=this.getIEOffset(e)).top+=t(a).scrollTop()+n.scrollTop(),i.left+=t(a).scrollLeft()+n.scrollLeft(),i):(i=n.offset(),r=this.getPosition(e),{left:i.left+r.left-n.scrollLeft(),top:i.top+r.top-n.scrollTop(),height:r.height})},e.prototype.getPosition=function(t){var e,n,r,o,s;return e=this.$inputor,r=function(t){return t=t.replace(/<|>|`|"|&/g,"?").replace(/\r\n|\r|\n/g,"<br/>"),/firefox/i.test(navigator.userAgent)&&(t=t.replace(/\s/g,"&nbsp;")),t},void 0===t&&(t=this.getPos()),s=e.val().slice(0,t),n=e.val().slice(t),o="<span style='position: relative; display: inline;'>"+r(s)+"</span>",o+="<span id='caret' style='position: relative; display: inline;'>|</span>",o+="<span style='position: relative; display: inline;'>"+r(n)+"</span>",new i(e).create(o).rect()},e.prototype.getIEPosition=function(t){var e,n;return n=this.getIEOffset(t),e=this.$inputor.offset(),{left:n.left-e.left,top:n.top-e.top,height:n.height}},e}(),i=function(){function e(t){this.$inputor=t}return e.prototype.css_attr=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle","borderTopWidth","boxSizing","fontFamily","fontSize","fontWeight","height","letterSpacing","lineHeight","marginBottom","marginLeft","marginRight","marginTop","outlineWidth","overflow","overflowX","overflowY","paddingBottom","paddingLeft","paddingRight","paddingTop","textAlign","textOverflow","textTransform","whiteSpace","wordBreak","wordWrap"],e.prototype.mirrorCss=function(){var e,n=this;return e={position:"absolute",left:-9999,top:0,zIndex:-2e4},"TEXTAREA"===this.$inputor.prop("tagName")&&this.css_attr.push("width"),t.each(this.css_attr,(function(t,i){return e[i]=n.$inputor.css(i)})),e},e.prototype.create=function(e){return this.$mirror=t("<div></div>"),this.$mirror.css(this.mirrorCss()),this.$mirror.html(e),this.$inputor.after(this.$mirror),this},e.prototype.rect=function(){var t,e,n;return n={left:(e=(t=this.$mirror.find("#caret")).position()).left,top:e.top,height:t.height()},this.$mirror.remove(),n},e}(),r={contentEditable:function(t){return!(!t[0].contentEditable||"true"!==t[0].contentEditable)}},o={pos:function(t){return t||0===t?this.setPos(t):this.getPos()},position:function(t){return s.selection?this.getIEPosition(t):this.getPosition(t)},offset:function(t){return this.getOffset(t)}},s=null,a=null,l=function(t){var e;return(e=null!=t?t.iframe:void 0)?(a=e.contentWindow,s=e.contentDocument||a.document):(a=window,s=document)},t.fn.caret=function(i,s,a){var u;return o[i]?(t.isPlainObject(s)?(l(s),s=void 0):l(a),u=r.contentEditable(this)?new e(this):new n(this),o[i].apply(u,[s])):t.error("Method "+i+" does not exist on jQuery.caret")},t.fn.caret.EditableCaret=e,t.fn.caret.InputCaret=n,t.fn.caret.Utils=r,t.fn.caret.apis=o}(t)}.apply(e,i))||(t.exports=r)}}]);
//# sourceMappingURL=commons-pages.admin.topics.edit-pages.admin.topics.new-pages.groups.epics.new-pages.groups.epics.sho-091ca310.254ebfc7.chunk.js.map